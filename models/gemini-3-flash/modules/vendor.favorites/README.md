# Модуль «Избранное» (vendor.favorites)

Модуль реализует функционал «Избранного» (Wishlist) для товаров каталога.

## Особенности
- Поддержка авторизованных пользователей (БД) и гостей (шифрованные Cookie).
- Автоматическая миграция избранного гостя при авторизации.
- REST API через контроллеры D7.
- Публичный компонент `vendor:favorites.button` с AJAX-взаимодействием и анимациями.
- Тегированное кэширование для высокой производительности.
- Настройки модуля в административном интерфейсе.

## Установка
1. Скопируйте папку модуля в `local/modules/vendor.favorites`.
2. Перейдите в административную панель: **Настройки -> Настройки продукта -> Модули**.
3. Найдите модуль «Избранное» и нажмите **Установить**.
4. После установки перейдите в настройки модуля и выберите инфоблок каталога.

## Использование компонента
Разместите компонент на странице товара или в списке:

```php
$APPLICATION->IncludeComponent(
    'vendor:favorites.button',
    '.default',
    [
        'PRODUCT_ID' => $arResult['ID'],
        'SHOW_COUNTER' => 'N',
        'BUTTON_SIZE' => 'medium',
        'CACHE_TYPE' => 'A',
        'CACHE_TIME' => 3600,
    ]
);
```

## REST API
Модуль предоставляет следующие методы (доступны через `BX.ajax.runAction`):
- `vendor:favorites.Favorites.add` (POST) - Добавить в избранное. Параметр: `productId`.
- `vendor:favorites.Favorites.remove` (POST) - Удалить из избранного. Параметр: `productId`.
- `vendor:favorites.Favorites.list` (GET) - Получить список ID.
- `vendor:favorites.Favorites.getProducts` (GET) - Получить список товаров с данными.

## Требования
- Bitrix Framework 20.0.0+
- PHP 8.1+
- Модуль `iblock`

